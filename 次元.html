<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¬¡å…ƒèµ„æº</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Roboto, sans-serif; background: #f5f7fa; color: #333; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        /* å…¬å‘Šæ  */
        .notice { background: #e8f4f8; border-radius: 8px; padding: 15px; margin-bottom: 20px; text-align: center; color: #2d3748; }
        /* ç™»å½•/æ³¨å†Œé¢æ¿ */
        .auth-panel { max-width: 400px; margin: 50px auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 3px 15px rgba(0,0,0,0.1); }
        .auth-tabs { display: flex; margin-bottom: 25px; border-bottom: 1px solid #eee; }
        .auth-tab { flex: 1; text-align: center; padding: 10px; cursor: pointer; font-weight: 600; color: #999; }
        .auth-tab.active { color: #4299e1; border-bottom: 2px solid #4299e1; }
        .auth-form { display: none; }
        .auth-form.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; }
        .form-control { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; outline: none; }
        .auth-btn { width: 100%; padding: 12px; background: #4299e1; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        /* å¤´éƒ¨ */
        .header { display: flex; flex-wrap: wrap; align-items: center; gap: 15px; margin-bottom: 25px; }
        .header h1 { flex: 1; min-width: 200px; color: #2d3748; }
        .search-box { flex: 2; min-width: 250px; position: relative; }
        .search-input { width: 100%; padding: 12px 15px 12px 40px; border: 1px solid #ddd; border-radius: 8px; outline: none; }
        .search-icon { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #999; }
        .user-info { flex: 1; min-width: 200px; text-align: right; }
        .points { font-weight: bold; color: #4299e1; }
        .points-btn { padding: 6px 12px; background: #48bb78; color: white; border: none; border-radius: 6px; cursor: pointer; margin: 0 10px; }
        .logout-btn { padding: 6px 12px; background: #f56565; color: white; border: none; border-radius: 6px; cursor: pointer; }
        /* åˆ†ç±»å¯¼èˆª */
        .category-nav { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 25px; }
        .category-btn { padding: 10px 20px; border: none; border-radius: 8px; background: #fff; color: #4a5568; cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .category-btn.active { background: #4299e1; color: white; }
        /* å†…å®¹ç½‘æ ¼ï¼ˆæ¯è¡Œ2ä¸ªï¼‰ */
        .content-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
        .content-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.08); transition: transform 0.3s; cursor: pointer; }
        .content-card:hover { transform: translateY(-3px); }
        .content-cover { width: 100%; height: 280px; background: #f0f0f0; background-size: cover; background-position: center; }
        .content-title { padding: 15px; text-align: center; font-weight: 600; }
        /* ç§¯åˆ†ä»»åŠ¡é¡µï¼ˆç‹¬ç«‹ï¼‰ */
        .points-page { background: white; border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); display: none; }
        .points-page h2 { margin-bottom: 20px; color: #2d3748; }
        .task-list { display: flex; flex-direction: column; gap: 15px; margin-bottom: 25px; }
        .task-item { padding: 15px; border: 1px solid #eee; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .task-btn { padding: 8px 16px; background: #48bb78; color: white; border: none; border-radius: 6px; cursor: pointer; }
        .task-btn.disabled { background: #ccc; cursor: not-allowed; }
        /* åå°æ ·å¼ */
        .admin-panel { display: none; }
        .form-row { display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; }
        .form-col { flex: 1; min-width: 200px; }
        .upload-btn { background: #38b2ac; }
        .user-management { margin: 30px 0; }
        .user-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .user-table th, .user-table td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        .user-table th { background: #f8f9fa; }
        .set-points-btn { padding: 6px 12px; background: #9f7aea; color: white; border: none; border-radius: 6px; cursor: pointer; }
        /* åº•éƒ¨æŒ‰é’® */
        .footer-btns { display: flex; gap: 15px; justify-content: center; margin: 20px 0; }
        .page-btn { padding: 10px 20px; border: none; border-radius: 8px; background: #fff; box-shadow: 0 2px 4px rgba(0,0,0,0.05); cursor: pointer; }
        .admin-entry { position: fixed; bottom: 20px; right: 20px; width: 40px; height: 40px; border-radius: 50%; background: #9f7aea; color: white; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 2px 8px rgba(0,0,0,0.2); display: none; }
    </style>
</head>
<body>
    <!-- ç™»å½•/æ³¨å†Œé¢æ¿ï¼ˆé»˜è®¤æ˜¾ç¤ºï¼‰ -->
    <div class="auth-panel" id="auth-panel">
        <div class="auth-tabs">
            <div class="auth-tab active" onclick="switchAuth('login')">ç™»å½•</div>
            <div class="auth-tab" onclick="switchAuth('register')">æ³¨å†Œ</div>
        </div>
        <!-- ç™»å½•è¡¨å• -->
        <div class="auth-form active" id="login-form">
            <div class="form-group">
                <label>ç”¨æˆ·å</label>
                <input type="text" class="form-control" id="login-username" placeholder="è¾“å…¥ç”¨æˆ·å">
            </div>
            <div class="form-group">
                <label>å¯†ç </label>
                <input type="password" class="form-control" id="login-pwd" placeholder="è¾“å…¥å¯†ç ">
            </div>
            <button class="auth-btn" onclick="userLogin()">ç™»å½•</button>
        </div>
        <!-- æ³¨å†Œè¡¨å• -->
        <div class="auth-form" id="register-form">
            <div class="form-group">
                <label>ç”¨æˆ·å</label>
                <input type="text" class="form-control" id="reg-username" placeholder="è®¾ç½®ç”¨æˆ·å">
            </div>
            <div class="form-group">
                <label>å¯†ç </label>
                <input type="password" class="form-control" id="reg-pwd" placeholder="è®¾ç½®å¯†ç ">
            </div>
            <button class="auth-btn" onclick="userRegister()">æ³¨å†Œ</button>
        </div>
    </div>
    <!-- å‰å°é¡µé¢ï¼ˆç™»å½•åæ˜¾ç¤ºï¼‰ -->
    <div class="container" id="front-end" style="display: none;">
        <!-- å…¬å‘Šæ  -->
        <div class="notice" id="notice">æ¬¢è¿ä½¿ç”¨èµ„æºå¹³å°ï¼Œå®Œæˆä»»åŠ¡è·å–ç§¯åˆ†è§£é”å†…å®¹~</div>

        <!-- å¤´éƒ¨ï¼šæ ‡é¢˜+æœç´¢+ç”¨æˆ·ä¿¡æ¯ -->
        <div class="header">
            <h1>å¤šåª’ä½“èµ„æºå¹³å°</h1>
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-input" id="search-input" placeholder="æœç´¢æ ‡é¢˜...">
            </div>
            <div class="user-info">
                ç”¨æˆ·åï¼š<span id="current-username"></span> | 
                ç§¯åˆ†ï¼š<span class="points" id="user-points">0</span>
                <button class="points-btn" onclick="showPointsPage()">ç§¯åˆ†è·å–</button>
                <button class="logout-btn" onclick="userLogout()">é€€å‡º</button>
            </div>
        </div>
        <!-- åˆ†ç±»å¯¼èˆª -->
        <div class="category-nav">
            <button class="category-btn active" data-type="all">å…¨éƒ¨</button>
            <button class="category-btn" data-type="comic">æ¼«ç”»</button>
            <button class="category-btn" data-type="anime">åŠ¨æ¼«</button>
            <button class="category-btn" data-type="movie">ç”µå½±</button>
            <button class="category-btn" data-type="illustration">æ’ç”»</button>
            <button class="category-btn" data-type="video">åœ¨çº¿è§†é¢‘</button>
            <button class="category-btn" data-type="software">è½¯ä»¶</button>
        </div>
        <!-- å†…å®¹å±•ç¤ºåŒº -->
        <div class="content-grid" id="content-grid">
            <div style="grid-column: 1/3; text-align: center; padding: 50px; color: #999;">æš‚æ— å†…å®¹</div>
        </div>
        <!-- ç§¯åˆ†ä»»åŠ¡é¡µï¼ˆç‹¬ç«‹æ˜¾ç¤ºï¼‰ -->
        <div class="points-page" id="points-page">
            <h2>ç§¯åˆ†è·å–ä¸­å¿ƒ</h2>
            <div class="task-list" id="task-list">
                <!-- ä»»åŠ¡ç”±åå°è®¾ç½® -->
            </div>
            <button class="page-btn" onclick="showFrontPage()">è¿”å›èµ„æºé¦–é¡µ</button>
        </div>
    </div>
    <!-- åå°é¢æ¿ï¼ˆç®¡ç†å‘˜ç™»å½•åæ˜¾ç¤ºï¼‰ -->
    <div class="container admin-panel" id="admin-panel">
        <h2>ç®¡ç†å‘˜åå°</h2>
        <button class="page-btn" onclick="userLogout()">é€€å‡ºç™»å½•</button>
        <!-- å…¬å‘Šè®¾ç½® -->
        <div class="form-group">
            <label>å¹³å°å…¬å‘Š</label>
            <input type="text" class="form-control" id="notice-input" placeholder="è¾“å…¥å…¬å‘Šå†…å®¹">
        </div>
        <!-- å†…å®¹ä¸Šä¼  -->
        <div class="form-group">
            <h3>ä¸Šä¼ å†…å®¹</h3>
            <div class="form-row">
                <div class="form-col">
                    <label>å†…å®¹æ ‡é¢˜</label>
                    <input type="text" class="form-control" id="content-title" placeholder="è¾“å…¥æ ‡é¢˜">
                </div>
                <div class="form-col">
                    <label>å†…å®¹åˆ†ç±»</label>
                    <select class="form-control" id="content-type">
                        <option value="comic">æ¼«ç”»</option>
                        <option value="anime">åŠ¨æ¼«</option>
                        <option value="movie">ç”µå½±</option>
                        <option value="illustration">æ’ç”»</option>
                        <option value="video">åœ¨çº¿è§†é¢‘</option>
                        <option value="software">è½¯ä»¶</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-col">
                    <label>å°é¢å›¾ç‰‡URL</label>
                    <input type="text" class="form-control" id="content-cover" placeholder="è¾“å…¥å›¾ç‰‡é“¾æ¥">
                </div>
                <div class="form-col">
                    <label>è®¿é—®é“¾æ¥</label>
                    <input type="text" class="form-control" id="content-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">
                </div>
            </div>
            <button class="auth-btn upload-btn" onclick="uploadContent()">ä¸Šä¼ å†…å®¹</button>
        </div>
        <!-- ä»»åŠ¡è®¾ç½® -->
        <div class="form-group">
            <h3>ç§¯åˆ†ä»»åŠ¡è®¾ç½®</h3>
            <div class="form-row">
                <div class="form-col">
                    <label>ä»»åŠ¡1åç§°</label>
                    <input type="text" class="form-control" id="task1-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="æ¯æ—¥ç­¾åˆ°">
                </div>
                <div class="form-col">
                    <label>ä»»åŠ¡1é“¾æ¥ï¼ˆç­¾åˆ°æ— éœ€å¡«å†™ï¼‰</label>
                    <input type="text" class="form-control" id="task1-link" placeholder="æ— éœ€å¡«å†™" disabled>
                </div>
            </div>
            <div class="form-row">
                <div class="form-col">
                    <label>ä»»åŠ¡2åç§°</label>
                    <input type="text" class="form-control" id="task2-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="é‚€è¯·å¥½å‹">
                </div>
                <div class="form-col">
                    <label>ä»»åŠ¡2é“¾æ¥</label>
                    <input type="text" class="form-control" id="task2-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">
                </div>
            </div>
            <div class="form-row">
                <div class="form-col">
                    <label>ä»»åŠ¡3åç§°</label>
                    <input type="text" class="form-control" id="task3-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="è§‚çœ‹å¹¿å‘Š">
                </div>
                <div class="form-col">
                    <label>ä»»åŠ¡3é“¾æ¥</label>
                    <input type="text" class="form-control" id="task3-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">
                </div>
            </div>
            <button class="auth-btn" onclick="saveTasks()">ä¿å­˜ä»»åŠ¡</button>
        </div>
        <!-- ç”¨æˆ·ç®¡ç†ï¼ˆè®¾ç½®ç§¯åˆ†ï¼‰ -->
        <div class="user-management">
            <h3>ç”¨æˆ·ç®¡ç†</h3>
            <table class="user-table" id="user-table">
                <thead>
                    <tr>
                        <<th>ç”¨æˆ·å</</th>
                        <<th>å½“å‰ç§¯åˆ†</</th>
                        <<th>æ“ä½œ</</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- ç”¨æˆ·åˆ—è¡¨ç”±ç³»ç»Ÿç”Ÿæˆ -->
                </tbody>
            </table>
        </div>
    </div>
    <script>
        // åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®ï¼ˆå¼ºåˆ¶æ›´æ–°ç®¡ç†å‘˜å¯†ç ï¼Œå…¼å®¹æ—§æ•°æ®ï¼‰
        const initSystemData = () => {
            const defaultData = {
                notice: 'æ¬¢è¿ä½¿ç”¨èµ„æºå¹³å°ï¼Œå®Œæˆä»»åŠ¡è·å–ç§¯åˆ†è§£é”å†…å®¹~',
                contents: [],
                tasks: [
                    { name: 'æ¯æ—¥ç­¾åˆ°', link: '#' },
                    { name: 'é‚€è¯·å¥½å‹', link: '#' },
                    { name: 'è§‚çœ‹å¹¿å‘Š', link: '#' }
                ],
                users: [
                    // ç®¡ç†å‘˜åˆå§‹å¯†ç è®¾ä¸º18046156515abc
                    { username: 'admin', password: '18046156515abc', role: 'admin', points: 9999, lastCheckinDate: '' }
                ],
                currentUser: null
            };

            if (!localStorage.getItem('platformSystem')) {
                // é¦–æ¬¡åˆå§‹åŒ–ï¼šç›´æ¥ç”¨æ–°å¯†ç 
                localStorage.setItem('platformSystem', JSON.stringify(defaultData));Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="comic">æ¼«ç”»</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="anime">åŠ¨æ¼«</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="movie">ç”µå½±</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="illustration">æ’ç”»</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="video">åœ¨çº¿è§†é¢‘</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="category-btn" data-type="software">è½¯ä»¶</button>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â <!-- å†…å®¹å±•ç¤ºåŒº -->ï»¿
Â Â Â Â Â Â Â Â <div class="content-grid" id="content-grid">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div style="grid-column: 1/3; text-align: center; padding: 50px; color: #999;">æš‚æ— å†…å®¹</div>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â <!-- ç§¯åˆ†ä»»åŠ¡é¡µï¼ˆç‹¬ç«‹æ˜¾ç¤ºï¼‰ -->ï»¿
Â Â Â Â Â Â Â Â <div class="points-page" id="points-page">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <h2>ç§¯åˆ†è·å–ä¸­å¿ƒ</h2>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="task-list" id="task-list">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <!-- ä»»åŠ¡ç”±åå°è®¾ç½® -->ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="page-btn" onclick="showFrontPage()">è¿”å›èµ„æºé¦–é¡µ</button>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â </div>ï»¿
Â Â Â Â <!-- åå°é¢æ¿ï¼ˆç®¡ç†å‘˜ç™»å½•åæ˜¾ç¤ºï¼‰ -->ï»¿
Â Â Â Â <div class="container admin-panel" id="admin-panel">ï»¿
Â Â Â Â Â Â Â Â <h2>ç®¡ç†å‘˜åå°</h2>ï»¿
Â Â Â Â Â Â Â Â <button class="page-btn" onclick="userLogout()">é€€å‡ºç™»å½•</button>ï»¿
Â Â Â Â Â Â Â Â <!-- å…¬å‘Šè®¾ç½® -->ï»¿
Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <label>å¹³å°å…¬å‘Š</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="notice-input" placeholder="è¾“å…¥å…¬å‘Šå†…å®¹">ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â <!-- å†…å®¹ä¸Šä¼  -->ï»¿
Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <h3>ä¸Šä¼ å†…å®¹</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-row">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>å†…å®¹æ ‡é¢˜</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="content-title" placeholder="è¾“å…¥æ ‡é¢˜">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>å†…å®¹åˆ†ç±»</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <select class="form-control" id="content-type">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="comic">æ¼«ç”»</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="anime">åŠ¨æ¼«</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="movie">ç”µå½±</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="illustration">æ’ç”»</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="video">åœ¨çº¿è§†é¢‘</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <option value="software">è½¯ä»¶</option>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </select>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-row">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>å°é¢å›¾ç‰‡URL</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="content-cover" placeholder="è¾“å…¥å›¾ç‰‡é“¾æ¥">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>è®¿é—®é“¾æ¥</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="content-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="auth-btn upload-btn" onclick="uploadContent()">ä¸Šä¼ å†…å®¹</button>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â <!-- ä»»åŠ¡è®¾ç½® -->ï»¿
Â Â Â Â Â Â Â Â <div class="form-group">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <h3>ç§¯åˆ†ä»»åŠ¡è®¾ç½®</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-row">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡1åç§°</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task1-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="æ¯æ—¥ç­¾åˆ°">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡1é“¾æ¥ï¼ˆç­¾åˆ°æ— éœ€å¡«å†™ï¼‰</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task1-link" placeholder="æ— éœ€å¡«å†™" disabled>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-row">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡2åç§°</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task2-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="é‚€è¯·å¥½å‹">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡2é“¾æ¥</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task2-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-row">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡3åç§°</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task3-name" placeholder="è¾“å…¥ä»»åŠ¡åç§°" value="è§‚çœ‹å¹¿å‘Š">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="form-col">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <label>ä»»åŠ¡3é“¾æ¥</label>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="text" class="form-control" id="task3-link" placeholder="è¾“å…¥è·³è½¬é“¾æ¥">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <button class="auth-btn" onclick="saveTasks()">ä¿å­˜ä»»åŠ¡</button>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â <!-- ç”¨æˆ·ç®¡ç†ï¼ˆè®¾ç½®ç§¯åˆ†ï¼‰ -->ï»¿
Â Â Â Â Â Â Â Â <div class="user-management">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <h3>ç”¨æˆ·ç®¡ç†</h3>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â <table class="user-table" id="user-table">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <thead>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <tr>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <<th>ç”¨æˆ·å</</th>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <<th>å½“å‰ç§¯åˆ†</</th>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <<th>æ“ä½œ</</th>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </tr>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </thead>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <tbody>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <!-- ç”¨æˆ·åˆ—è¡¨ç”±ç³»ç»Ÿç”Ÿæˆ -->ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </tbody>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â </table>ï»¿
Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â </div>ï»¿
Â Â Â Â <script>ï»¿
Â Â Â Â Â Â Â Â // åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®ï¼ˆå¼ºåˆ¶æ›´æ–°ç®¡ç†å‘˜å¯†ç ï¼Œå…¼å®¹æ—§æ•°æ®ï¼‰ï»¿
Â Â Â Â Â Â Â Â const initSystemData = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const defaultData = {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â notice: 'æ¬¢è¿ä½¿ç”¨èµ„æºå¹³å°ï¼Œå®Œæˆä»»åŠ¡è·å–ç§¯åˆ†è§£é”å†…å®¹~',ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â contents: [],ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â tasks: [ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: 'æ¯æ—¥ç­¾åˆ°', link: '#' },ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: 'é‚€è¯·å¥½å‹', link: '#' },ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: 'è§‚çœ‹å¹¿å‘Š', link: '#' }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ],ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â users: [ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // ç®¡ç†å‘˜åˆå§‹å¯†ç è®¾ä¸º18046156515abcï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { username: 'admin', password: '18046156515abc', role: 'admin', points: 9999, lastCheckinDate: '' }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ],ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â currentUser: nullï»¿
Â Â Â Â Â Â Â Â Â Â Â Â };ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (!localStorage.getItem('platformSystem')) {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // é¦–æ¬¡åˆå§‹åŒ–ï¼šç›´æ¥ç”¨æ–°å¯†ç ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â localStorage.setItem('platformSystem', JSON.stringify(defaultData));ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // å·²æœ‰æ—§æ•°æ®ï¼šå¼ºåˆ¶æ›´æ–°ç®¡ç†å‘˜å¯†ç ï¼Œè¡¥å……ç¼ºå¤±å­—æ®µï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const data = JSON.parse(localStorage.getItem('platformSystem'));ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // æ‰¾åˆ°ç®¡ç†å‘˜è´¦å·å¹¶æ›´æ–°å¯†ç ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â const adminIndex = data.users.findIndex(u => u.username === 'admin'&&u.role === 'admin');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (adminIndex > -1) {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data.users[adminIndex].password = '18046156515abc'; // å¼ºåˆ¶è¦†ç›–æ—§å¯†ç ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data.users[adminIndex].lastCheckinDate = data.users[adminIndex].lastCheckinDate || '';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // è‹¥ç®¡ç†å‘˜è´¦å·ä¸¢å¤±ï¼Œé‡æ–°æ·»åŠ ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data.users.push(defaultData.users[0]);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // ç»™æ‰€æœ‰ç”¨æˆ·è¡¥å……lastCheckinDateå­—æ®µï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â data.users = data.users.map(user => ({ ...user, lastCheckinDate: user.lastCheckinDate || '' }));ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ•°æ®æ“ä½œå·¥å…·ï»¿
Â Â Â Â Â Â Â Â const getSystemData = () => JSON.parse(localStorage.getItem('platformSystem'));ï»¿
Â Â Â Â Â Â Â Â const saveSystemData = (data) => localStorage.setItem('platformSystem', JSON.stringify(data));ï»¿
Â Â Â Â Â Â Â Â // è·å–å½“å‰æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰ï»¿
Â Â Â Â Â Â Â Â const getCurrentDate = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const date = new Date();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // åˆ‡æ¢ç™»å½•/æ³¨å†Œè¡¨å•ï»¿
Â Â Â Â Â Â Â Â const switchAuth = (type) => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const loginTab = document.querySelectorAll('.auth-tab')[0];ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const regTab = document.querySelectorAll('.auth-tab')[1];ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const loginForm = document.getElementById('login-form');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const regForm = document.getElementById('register-form');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (type === 'login') {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loginTab.classList.add('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â regTab.classList.remove('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loginForm.classList.add('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â regForm.classList.remove('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loginTab.classList.remove('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â regTab.classList.add('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loginForm.classList.remove('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â regForm.classList.add('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // ç”¨æˆ·æ³¨å†Œï¼ˆç”¨æˆ·åé‡å¤æç¤º"ç”¨æˆ·åå·²å­˜åœ¨"ï¼‰ï»¿
Â Â Â Â Â Â Â Â const userRegister = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const username = document.getElementById('reg-username').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const password = document.getElementById('reg-pwd').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (!username || !password) return alert('ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const userExists = data.users.some(u => u.username === username);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (userExists) return alert('ç”¨æˆ·åå·²å­˜åœ¨');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.users.push({ username, password, role: 'user', points: 0, lastCheckinDate: '' });ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â alert('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â switchAuth('login');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('login-username').value = username;ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // ç”¨æˆ·ç™»å½•ï¼ˆç²¾å‡†æç¤ºï¼šç”¨æˆ·åä¸å­˜åœ¨/å¯†ç é”™è¯¯ï¼‰ï»¿
Â Â Â Â Â Â Â Â const userLogin = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const username = document.getElementById('login-username').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const password = document.getElementById('login-pwd').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (!username || !password) return alert('ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // å…ˆåˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const user = data.users.find(u => u.username === username);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (!user) return alert('ç”¨æˆ·åä¸å­˜åœ¨ï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // ç”¨æˆ·åå­˜åœ¨ï¼Œåˆ¤æ–­å¯†ç æ˜¯å¦æ­£ç¡®ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (user.password !== password) return alert('å¯†ç é”™è¯¯ï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // ç™»å½•æˆåŠŸï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.currentUser = user;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('auth-panel').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (user.role === 'admin') {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('admin-panel').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderAdminPanel();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('front-end').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderFrontPage();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // ç”¨æˆ·é€€å‡ºï»¿
Â Â Â Â Â Â Â Â const userLogout = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.currentUser = null;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('admin-panel').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('front-end').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('auth-panel').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('login-username').value = '';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('login-pwd').value = '';ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¸²æŸ“å‰å°é¡µé¢ï»¿
Â Â Â Â Â Â Â Â const renderFrontPage = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const currentUser = data.currentUser;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('current-username').textContent = currentUser.username;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('user-points').textContent = currentUser.points;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('notice').textContent = data.notice;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderContents('all');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderTasks();ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¸²æŸ“å†…å®¹ï»¿
Â Â Â Â Â Â Â Â const renderContents = (type) => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const grid = document.getElementById('content-grid');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â let contents = data.contents;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (type !== 'all') contents = contents.filter(item => item.type === type);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const searchVal = document.getElementById('search-input').value.trim().toLowerCase();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (searchVal) contents = contents.filter(item => item.title.toLowerCase().includes(searchVal));ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â grid.innerHTML = contents.length ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ? contents.map(item => `ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="content-card" onclick="window.open('${item.link}', '_blank')">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="content-cover" style="background-image: url('${item.cover || 'https://picsum.photos/400/600'}')"></div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="content-title">${item.title}</div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `).join('')ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â : '<div style="grid-column: 1/3; text-align: center; padding: 50px; color: #999;">æš‚æ— å†…å®¹</div>';ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¸²æŸ“ç§¯åˆ†ä»»åŠ¡ï¼ˆæ–°å¢ç­¾åˆ°çŠ¶æ€åˆ¤æ–­ï¼‰ï»¿
Â Â Â Â Â Â Â Â const renderTasks = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const currentUser = data.currentUser;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const taskList = document.getElementById('task-list');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const today = getCurrentDate();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const hasCheckedIn = currentUser.lastCheckinDate === today;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â taskList.innerHTML = data.tasks.map((task, idx) => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // ä»»åŠ¡1ä¸ºæ¯æ—¥ç­¾åˆ°ï¼Œå•ç‹¬å¤„ç†ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (idx === 0) {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return `ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="task-item">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span>${idx+1}. ${task.name}ï¼ˆ+10ç§¯åˆ†/å¤©ï¼‰</span>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button class="task-btn ${hasCheckedIn ? 'disabled' : ''}" onclick="${hasCheckedIn ? '' : 'checkin()'}">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ${hasCheckedIn ? 'ä»Šæ—¥å·²ç­¾åˆ°' : 'ç«‹å³ç­¾åˆ°'}ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // å…¶ä»–ä»»åŠ¡æ­£å¸¸æ¸²æŸ“ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return `ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <div class="task-item">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span>${idx+1}. ${task.name}</span>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button class="task-btn" onclick="window.open('${task.link}', '_blank')">å»å®Œæˆ</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </div>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â `;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }).join('');ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¯æ—¥ç­¾åˆ°åŠŸèƒ½ï¼ˆ+10ç§¯åˆ†ï¼Œæ¯æ—¥ä¸€æ¬¡ï¼‰ï»¿
Â Â Â Â Â Â Â Â const checkin = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const currentUser = data.currentUser;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const today = getCurrentDate();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // å†æ¬¡éªŒè¯æ˜¯å¦å·²ç­¾åˆ°ï¼ˆé˜²æ­¢é‡å¤æäº¤ï¼‰ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (currentUser.lastCheckinDate === today) {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â alert('ä»Šæ—¥å·²ç­¾åˆ°ï¼Œè¯·å‹¿é‡å¤æ“ä½œï¼');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â return;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // å¢åŠ 10ç§¯åˆ†ï¼Œæ›´æ–°ç­¾åˆ°æ—¥æœŸï»¿
Â Â Â Â Â Â Â Â Â Â Â Â currentUser.points += 10;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â currentUser.lastCheckinDate = today;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // æ›´æ–°ç”¨æˆ·åˆ—è¡¨ä¸­çš„æ•°æ®ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const userIndex = data.users.findIndex(u => u.username === currentUser.username);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.users[userIndex] = currentUser;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.currentUser = currentUser;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â alert('ç­¾åˆ°æˆåŠŸï¼è·å¾—10ç§¯åˆ†ï½');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â // åˆ·æ–°ç§¯åˆ†å’Œä»»åŠ¡çŠ¶æ€ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('user-points').textContent = currentUser.points;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderTasks();ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¸²æŸ“ç®¡ç†å‘˜é¢æ¿ï»¿
Â Â Â Â Â Â Â Â const renderAdminPanel = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('notice-input').value = data.notice;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('task1-name').value = data.tasks[0].name;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('task2-name').value = data.tasks[1].name;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('task2-link').value = data.tasks[1].link;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('task3-name').value = data.tasks[2].name;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('task3-link').value = data.tasks[2].link;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderUserList();ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // æ¸²æŸ“ç”¨æˆ·åˆ—è¡¨ï»¿
Â Â Â Â Â Â Â Â const renderUserList = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const userTable = document.querySelector('#user-table tbody');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â userTable.innerHTML = data.users.map(user => `ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <tr>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <td>${user.username} ${user.role === 'admin' ? '(ç®¡ç†å‘˜)' : ''}</td>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <td>${user.points}</td>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <td>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <input type="number" placeholder="æ–°ç§¯åˆ†" class="form-control" style="width: 100px; display: inline-block; margin-right: 10px;" id="points-${user.username}">ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <button class="set-points-btn" onclick="setUserPoints('${user.username}')">è®¾ç½®</button>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </td>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â </tr>ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â `).join('');ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // è®¾ç½®ç”¨æˆ·ç§¯åˆ†ï»¿
Â Â Â Â Â Â Â Â const setUserPoints = (username) => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const newPoints = parseInt(document.getElementById(`points-${username}`).value);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (isNaN(newPoints) || newPoints<0) return alert('è¯·è¾“å…¥æœ‰æ•ˆç§¯åˆ†ï¼ˆéè´Ÿæ•´æ•°ï¼‰ï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const userIndex = data.users.findIndex(u => u.username === username);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.users[userIndex].points = newPoints;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (data.currentUser?.username === username) data.currentUser.points = newPoints;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â alert('ç§¯åˆ†è®¾ç½®æˆåŠŸï¼');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderUserList();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (document.getElementById('front-end').style.display === 'block') {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('user-points').textContent = newPoints;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // ä¸Šä¼ å†…å®¹ï»¿
Â Â Â Â Â Â Â Â const uploadContent = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const title = document.getElementById('content-title').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const type = document.getElementById('content-type').value;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const cover = document.getElementById('content-cover').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const link = document.getElementById('content-link').value.trim();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (!title || !link) return alert('æ ‡é¢˜å’Œé“¾æ¥ä¸èƒ½ä¸ºç©ºï¼');ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.contents.push({ title, type, cover, link });ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â alert('ä¸Šä¼ æˆåŠŸï¼');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('content-title').value = '';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('content-cover').value = '';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('content-link').value = '';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (document.getElementById('front-end').style.display === 'block') {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderContents(document.querySelector('.category-btn.active').dataset.type);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // ä¿å­˜ä»»åŠ¡è®¾ç½®ï¼ˆç­¾åˆ°ä»»åŠ¡é“¾æ¥ç¦ç”¨ç¼–è¾‘ï¼‰ï»¿
Â Â Â Â Â Â Â Â const saveTasks = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const task1Name = document.getElementById('task1-name').value.trim() || 'æ¯æ—¥ç­¾åˆ°';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const task2Name = document.getElementById('task2-name').value.trim() || 'é‚€è¯·å¥½å‹';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const task2Link = document.getElementById('task2-link').value.trim() || '#';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const task3Name = document.getElementById('task3-name').value.trim() || 'è§‚çœ‹å¹¿å‘Š';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const task3Link = document.getElementById('task3-link').value.trim() || '#';ï»¿
ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â data.tasks = [ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: task1Name, link: '#' }, // ç­¾åˆ°ä»»åŠ¡é“¾æ¥å›ºå®šä¸º#ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: task2Name, link: task2Link },ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â { name: task3Name, link: task3Link }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â ];ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â saveSystemData(data);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â alert('ä»»åŠ¡ä¿å­˜æˆåŠŸï¼');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (document.getElementById('front-end').style.display === 'block') renderTasks();ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // é¡µé¢åˆ‡æ¢ï¼šèµ„æºé¦–é¡µ/ç§¯åˆ†ä»»åŠ¡é¡µï»¿
Â Â Â Â Â Â Â Â const showFrontPage = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('content-grid').style.display = 'grid';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.querySelector('.category-nav').style.display = 'flex';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('points-page').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â const showPointsPage = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('content-grid').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.querySelector('.category-nav').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('points-page').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â Â Â Â Â // åˆ†ç±»åˆ‡æ¢äº‹ä»¶ï»¿
Â Â Â Â Â Â Â Â document.querySelectorAll('.category-btn').forEach(btn => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â btn.addEventListener('click', () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â btn.classList.add('active');ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderContents(btn.dataset.type);ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â });ï»¿
Â Â Â Â Â Â Â Â });ï»¿
Â Â Â Â Â Â Â Â // æœç´¢äº‹ä»¶ï»¿
Â Â Â Â Â Â Â Â document.getElementById('search-input').addEventListener('input', () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const activeType = document.querySelector('.category-btn.active').dataset.type;ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â renderContents(activeType);ï»¿
Â Â Â Â Â Â Â Â });ï»¿
Â Â Â Â Â Â Â Â // åˆå§‹åŒ–ï»¿
Â Â Â Â Â Â Â Â window.onload = () => {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â initSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â const data = getSystemData();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â if (data.currentUser) {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('auth-panel').style.display = 'none';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if (data.currentUser.role === 'admin') {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('admin-panel').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderAdminPanel();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â } else {ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â document.getElementById('front-end').style.display = 'block';ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â renderFrontPage();ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â Â Â Â Â }ï»¿
Â Â Â Â Â Â Â Â };ï»¿
Â Â Â Â </script>ï»¿
</body>ï»¿
                        </html>

